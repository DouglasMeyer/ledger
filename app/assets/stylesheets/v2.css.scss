@import "bourbon";

// Reset
* {
  @include box-sizing(border-box);
}
html, body { height: 100%; width: 100%; }
html { overflow: auto; }
body {
  position: relative;
  font-size: medium;
  line-height: 1.2;
  color: #444;
}
h1, h2, h3 { color: #222; }
input, select, textarea {
  background-color: white;
  border: 1px solid #888;
  font-size: 0.8em;
}
input { padding: 0 1ex; }
ul { margin: 0; padding: 0; }

// Elements
.currency {
  text-align: right;
  &.negative { color: red; }
}
.accounts-table {
  .assets-list, .liabilities-list {
    float: left;
    width: 50%;
    @media (max-width: 35em) { width: 100%; }

    h2 { text-align: center; }
    ul { list-style-type: none; }
    li { border-bottom: 1px dotted #DDD; }
    h3 {
      margin-bottom: 0;
      font-size: 80%;
      font-weight: normal;
      text-transform: uppercase;
      color: #888;
    }
  }
  .assets-list { padding-right: 2em; }
  .liabilities-list { padding-left: 2em; }
}

.bank-entry {
  position: relative;
  min-height: 2.6em;

  .date, .description, .ammount, .account, .account-entries, .balance, .controls {
    position: absolute;
  }
  .date, .description, .ammount, .account, .balance, .controls { top: 0.2em; }
  .account-entries { top: 1.3em; }

  .date { width: 8em; left: 0.2em; }
  .description {
    left: 9em;
    right: 28em;
    overflow: hidden;
    white-space: pre;
    text-overflow: ellipsis;
  }
  .controls {
    right: 20em;
    width: 8em;
    a { margin-right: 1ex; }
  }
  .account-entries {
    left: 0.2em;
    right: 0.2em;
    background-color: #EEE;
  }
  .ammount { width: 8em; right: 11em; }
  .account { width: 10em; right: 0.2em; }
  .balance { width: 5em; right: 0.2em; }
}

// This is more of a min-width
$bank-entry-width: 45em;
.bank-entries {
  margin: 1em 8em;
  @media (max-width: $bank-entry-width
                  + 16em // margins
                  ) { margin: 1em; }
  list-style-type: none;

  form .actions > * { margin-right: 1em; }
  form .actions { display: none; }
  form.changed .actions { display: initial; }
  form.changed .distribute { display: none; }
  .focus { background-color: #F0F0F0; }

  .bank-entry {
    @media (max-width: $bank-entry-width) {
      padding-top: 1.2em;
      .description { right: 0; }
      margin-top: 1.2em;
      padding-bottom: 1.2em;
    }

    border-bottom: 1px dashed #DDD;
    &:last-child { border-bottom: none; }

    .date, .description, .distribute, .ammount, .account {
      z-index: 100;
      input, select { width: 100%; }
    }
    .distribute {
      right: 20em;
      @media (max-width: $bank-entry-width) { right: 0; }
    }
    form { padding-top: 1.4em; }
    .account-entry {
      position: relative;
      height: 1.4em;
    }
  }
}

form .actions { clear: both; }

// Layout
.navigation {
  @include box;
  font-size: 110%;
  @include linear-gradient(tint(black, 25%), tint(black, 5%));
  $standard_width: 10em   // width of the link
                   * 2    // number of links
                   * 1.1  // font-size
                   + 1em; // scroll-bar
  a {
    display: inline-block;
    height: 2em;
    line-height: 2em;
    text-align: center;
    color: #CCC;
  }
  .page-actions {
    @include box-flex(1);
    text-align: right;
    @media (max-width: $standard_width) { @include box-flex(0); }
  }
  .page-actions a {
    width: 2em;
    border-left: 1px solid black;
    text-decoration: none;
  }
  .accounts, .entries {
    display: block;
    border-right: 1px solid black;
    width: 10em;
    @media (max-width: $standard_width) {
      @include box-flex(1);
      width: auto;
    }
  }
  body.accounts & .accounts,
  body.bank_entries & .entries {
    background-color: black;
  }
  .count {
    position: absolute;
    display: inline-block;
    top: 1px;
    height: 1.4em;
    min-width: 1.4em;
    line-height: 1;
    font-size: 75%;
    font-weight: bold;
    background: #C00;
    color: white;
    border-radius: 1.3ex;
    padding: 3px;
  }
}

@import "./v2/accounts.css.scss";
@import "./v2/bank_entries.css.scss";
@import "./v2/strategies.css.scss";
@import "./v2/icon-fonts.css.scss";
